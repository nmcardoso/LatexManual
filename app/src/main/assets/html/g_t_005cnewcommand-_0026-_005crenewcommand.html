<html><head><meta content="text/html; charset=latin-1" httpequiv="Content-Type"/></head><body><a name="g_t_005cnewcommand-_0026-_005crenewcommand"></a>

<a name="g_t_005cnewcommand-_0026-_005crenewcommand-1"></a>
<h3 class="section"><code>\newcommand</code> &amp; <code>\renewcommand</code></h3>

<a name="index-_005cnewcommand"></a>
<a name="index-commands_002c-defining-new-ones"></a>
<a name="index-commands_002c-redefining"></a>
<a name="index-defining-a-new-command"></a>
<a name="index-new-commands_002c-defining"></a>

<p><code>\newcommand</code> and <code>\renewcommand</code> define and redefine a
command, respectively.  Synopses:
</p>
<div class="example">
<pre class="example">  \newcommand{\<var>cmd</var>}[<var>nargs</var>][<var>optargdefault</var>]{<var>defn</var>}
  \newcommand*{\<var>cmd</var>}[<var>nargs</var>][<var>optargdefault</var>]{<var>defn</var>}
\renewcommand{\<var>cmd</var>}[<var>nargs</var>][<var>optargdefault</var>]{<var>defn</var>}
\renewcommand*{\<var>cmd</var>}[<var>nargs</var>][<var>optargdefault</var>]{<var>defn</var>}
</pre></div>

<a name="index-starred-form_002c-defining-new-commands"></a>
<a name="index-_002a_002dform_002c-defining-new-commands"></a>
<p>The starred form of these two commands requires that the arguments not
contain multiple paragraphs of text (not <code>\long</code>, in plain TeX
terms).
</p>
<dl compact="compact">
<dt><var>cmd</var></dt>
<dd><p>Required; <code>\<var>cmd</var></code> is the command name.  For <code>\newcommand</code>, it
must not be already defined and must not begin with <code>\end</code>.  For
<code>\renewcommand</code>, it must already be defined.
</p>
</dd>
<dt><var>nargs</var></dt>
<dd><p>Optional; an integer from 0 to 9, specifying the number of arguments
that the command can take, including any optional argument.  If this
argument is not present, the default is for the command to have no
arguments.  When redefining a command, the new version can have a
different number of arguments than the old version.
</p>
</dd>
<dt><var>optargdefault</var></dt>
<dd><p>Optional; if this argument is present then the first argument of defined
command <code>\<var>cmd</var></code> is optional, with default value <var>optargdefault</var>
(which may be the empty string).  If this argument is not present then
<code>\<var>cmd</var></code> does not take an optional argument.
</p>
<a name="index-positional-parameter"></a>
<p>That is, if <code>\<var>cmd</var></code> is used with square brackets following,
as in <code>\<var>cmd</var>[<var>myval</var>]</code>, then within <var>defn</var> the first
<em>positional parameter</em> <code>#1</code> expands <var>myval</var>.  On the
other hand, if <code>\<var>cmd</var></code> is called without square brackets
following, then within <var>defn</var> the positional parameter <code>#1</code>
expands to the default <var>optargdefault</var>.  In either case, any
required arguments will be referred to starting with <code>#2</code>.
</p>
<p>Omitting <code>[<var>myval</var>]</code> in a call is different from having the
square brackets with no contents, as in <code>[]</code>.  The former results
in <code>#1</code> expanding to <var>optargdefault</var>; the latter results in
<code>#1</code> expanding to the empty string.
</p>
</dd>
<dt><var>defn</var></dt>
<dd><p>The text to be substituted for every occurrence of <code>\<var>cmd</var></code>; the
positional parameter <code>#<var>n</var></code> in <var>defn</var> is replaced by
the text of the <var>n</var>th argument.
</p>
</dd>
</dl>

<p>TeX ignores spaces in the source following an alphabetic control
sequence, as in &#8216;<samp>\cmd </samp>&#8217;.  If you actually want a space there, one
solution is to type <code>{}</code> after the command (&#8216;<samp>\cmd{} </samp>&#8217;;
another solution is to use an explicit control space (&#8216;<samp>\cmd\ </samp>&#8217;).
</p>
<p>A simple example of defining a new command:
<code>\newcommand{\RS}{Robin Smith}</code> results in
<code>\RS</code> being replaced by the longer text.
</p>
<p>Redefining an existing command is similar:
<code>\renewcommand{\qedsymbol}{{\small QED}}</code>.
</p>
<p>Here&#8217;s a command definition with one required argument:
</p>
<div class="example">
<pre class="example">\newcommand{\defref}[1]{Definition~\ref{#1}}
</pre></div>

<p>Then, <code>\defref{def:basis}</code> expands to
<code>Definition~\ref{def:basis}</code>, which will ultimately expand to
something like &#8216;<samp>Definition~3.14</samp>&#8217;.
</p>
<p>An example with two required arguments:
<code>\newcommand{\nbym}[2]{$#1 \times #2$}</code> is invoked as
<code>\nbym{2}{k}</code>.
</p>
<p>An example with an optional argument:
</p>
<div class="example">
<pre class="example">\newcommand{\salutation}[1][Sir or Madam]{Dear #1:}
</pre></div>

<p>Then, <code>\salutation</code> gives &#8216;<samp>Dear Sir or Madam:</samp>&#8217; while
<code>\salutation[John]</code> gives &#8216;<samp>Dear John:</samp>&#8217;.  And
<code>\salutation[]</code> gives &#8216;<samp>Dear :</samp>&#8217;.
</p>
<p>The braces around <var>defn</var> do not define a group, that is, they do
not delimit the scope of the result of expanding <var>defn</var>.  So
<code>\newcommand{\shipname}[1]{\it #1}</code> is problematic; in this
sentence,
</p>
<div class="example">
<pre class="example">The \shipname{Monitor} met the \shipname{Merrimac}.
</pre></div>

<p>the words &#8216;<samp>met the</samp>&#8217; would incorrectly be in italics.  Another
pair of braces in the definition is needed, like this:
<code>\newcommand{\shipname}[1]{{\it #1}}</code>.  Those
braces are part of the definition and thus do define a group.
</p>

</body></html>